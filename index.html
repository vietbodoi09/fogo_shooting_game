<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FurboGame - Fogo Mainnet Demo</title>
    <link rel="stylesheet" href="style.css">
    <!-- Fogo Sessions SDK -->
    <script src="https://unpkg.com/@fogo/sessions-sdk-react@0.0.28/dist/umd/index.min.js"></script>
    <!-- Solana Web3 -->
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.87.6/lib/index.iife.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üéÆ FURBO GAME</h1>
            <p class="subtitle">Real-time blockchain game on Fogo Mainnet</p>
        </div>

        <!-- Main Game Area -->
        <div class="game-area">
            <!-- Left Panel: Leaderboard -->
            <div class="panel left-panel">
                <h3>üèÜ LEADERBOARD</h3>
                <div class="leaderboard">
                    <div class="player-row header-row">
                        <span>Player</span>
                        <span>Score</span>
                    </div>
                    <div id="leaderboardList"></div>
                </div>
                <div class="game-stats">
                    <h4>üìä Game Stats</h4>
                    <div class="stats-grid">
                        <div>Total Players: <span id="totalPlayers">0</span></div>
                        <div>Total Shots: <span id="totalShots">0</span></div>
                        <div>Enemies Killed: <span id="enemiesKilled">0</span></div>
                        <div>Games Played: <span id="gamesPlayed">0</span></div>
                    </div>
                </div>
            </div>

            <!-- Center Panel: Game Canvas -->
            <div class="panel center-panel">
                <div class="game-header">
                    <div class="score-time">
                        <span>SCORE: <span id="score">0</span></span>
                        <span>TIME: <span id="time">0</span>s</span>
                    </div>
                    <div class="chain-status">
                        <span id="chainStatus">üî¥ Not Connected</span>
                    </div>
                </div>
                
                <canvas id="gameCanvas" width="800" height="600"></canvas>
                
                <div class="game-controls">
                    <button id="startBtn" class="btn-primary">üöÄ START GAME</button>
                    <button id="resetBtn" class="btn-secondary">üîÑ RESET</button>
                    <div class="instructions">
                        <p>CONTROLS: ‚Üê ‚Üí Move | SPACE Shoot</p>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Fogo Sessions & Controls -->
            <div class="panel right-panel">
                <h3>üîó FOGO SESSIONS</h3>
                
                <!-- Session Connection -->
                <div class="session-section">
                    <div class="session-status" id="sessionStatus">
                        <div class="status-indicator"></div>
                        <span>Disconnected</span>
                    </div>
                    <button id="connectBtn" class="btn-connect">üéÆ Connect Fogo Session</button>
                    
                    <div class="wallet-info" id="walletInfo" style="display:none">
                        <p>Wallet: <span id="walletAddress">...</span></p>
                        <p>Session: <span id="sessionAddress">...</span></p>
                    </div>
                </div>

                <!-- Player Registration -->
                <div class="registration-section">
                    <h4>üìù REGISTER PLAYER</h4>
                    <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
                    <button id="registerBtn" class="btn-register" disabled>Register</button>
                    <p class="hint">Register to save your score on-chain!</p>
                </div>

                <!-- Performance Dashboard -->
                <div class="performance-section">
                    <h4>‚ö° CHAIN PERFORMANCE</h4>
                    <div class="metrics">
                        <div class="metric">
                            <span class="label">Moves Sent:</span>
                            <span class="value" id="movesSent">0</span>
                        </div>
                        <div class="metric">
                            <span class="label">Shots Sent:</span>
                            <span class="value" id="shotsSent">0</span>
                        </div>
                        <div class="metric">
                            <span class="label">Avg Confirm:</span>
                            <span class="value" id="avgConfirm">0ms</span>
                        </div>
                        <div class="metric">
                            <span class="label">Success Rate:</span>
                            <span class="value" id="successRate">100%</span>
                        </div>
                        <div class="metric">
                            <span class="label">Pending TX:</span>
                            <span class="value" id="pendingTx">0</span>
                        </div>
                    </div>
                    
                    <div class="speedometer">
                        <div class="speed-label">Chain Speed</div>
                        <div class="speed-bar-container">
                            <div class="speed-bar" id="speedBar"></div>
                        </div>
                        <div class="speed-labels">
                            <span>Slow</span>
                            <span>Fast</span>
                            <span>‚ö° Extreme</span>
                        </div>
                    </div>
                </div>

                <!-- Transaction Log -->
                <div class="log-section">
                    <h4>üìú TRANSACTION LOG</h4>
                    <div class="log-box" id="logBox">
                        <div class="log-entry">Ready to connect...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Powered by <strong>Catcake</strong> ‚Ä¢ Gasless via Fogo Sessions ‚Ä¢ 
            <a href="#" id="benchmarkBtn">Run Speed Test</a></p>
            <p class="note">‚ö†Ô∏è Ensure you have Fogo Sessions connected for gasless transactions</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="game.js"></script>
    
    <script>
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('FurboGame loaded successfully!');
            // Add any additional initialization here
        });
    </script>
</body>
</html>
